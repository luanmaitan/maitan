import{i as za,a as x}from"./lifecycle.DiFrQEpI.js";import{o as Ta}from"./index-client.C3yqtpvi.js";import{f as u,a as n,p as $a,b as Ba,c as e,g as t,m as F,r as a,s as O,d as q,e as H,t as b,h as r}from"./template.Bl6bgCxM.js";import{s as o}from"./render.Chons5yO.js";import{e as Na,i as Sa}from"./each.CkJhbhco.js";var La=u('<div class="animate-pulse flex flex-col gap-4"><div class="h-8 bg-neutral-200 dark:bg-neutral-800 rounded w-1/3"></div> <div class="h-32 bg-neutral-200 dark:bg-neutral-800 rounded w-full"></div></div>'),Ga=u('<div class="p-4 border border-red-200 bg-red-50 text-red-600 rounded dark:bg-red-900/20 dark:border-red-900 dark:text-red-400"> </div>'),Ra=u('<div class="mt-2 text-[10px] font-mono text-blue-500 dark:text-blue-400 flex items-center justify-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"></path></svg> </div>'),Wa=u('<div class="flex flex-col gap-2 p-4 bg-neutral-50 dark:bg-neutral-800/50 rounded-lg text-center"><span class="text-xs font-bold uppercase text-neutral-400 dark:text-neutral-500"> </span> <span class="text-[10px] font-mono text-neutral-400 dark:text-neutral-600 mb-2"> </span> <div class="text-2xl font-medium text-black dark:text-white tracking-tight my-1"> </div> <div class="text-sm text-neutral-500 dark:text-neutral-400"> </div> <!></div>'),Aa=u('<div class="flex flex-col gap-12"><div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-6 border-b border-neutral-200 dark:border-neutral-800 pb-12"><div><div class="text-[100px] leading-none font-medium tracking-tighter text-black dark:text-white mb-2 -ml-1"> </div> <div class="text-xl text-neutral-600 dark:text-neutral-400 lowercase"> </div></div> <div class="flex flex-col gap-3 text-sm text-neutral-600 dark:text-neutral-400 font-mono w-full md:w-auto"><div class="flex justify-between gap-12 border-b border-neutral-100 dark:border-neutral-800 pb-2"><span>sensação</span> <span class="text-black dark:text-white"> </span></div> <div class="flex justify-between gap-12 border-b border-neutral-100 dark:border-neutral-800 pb-2"><span>umidade</span> <span class="text-black dark:text-white"> </span></div> <div class="flex justify-between gap-12 border-b border-neutral-100 dark:border-neutral-800 pb-2"><span>vento</span> <span class="text-black dark:text-white"> </span></div> <div class="flex justify-between gap-12"><span>min / max</span> <span class="text-black dark:text-white"> </span></div></div></div> <div><h3 class="text-sm font-bold uppercase tracking-widest text-neutral-400 dark:text-neutral-500 mb-6">Próximos Dias</h3> <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-4"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-neutral-500 dark:text-neutral-500 pt-8 border-t border-neutral-200 dark:border-neutral-800"><p>Dados fornecidos por Open-Meteo. Localização aproximada: São Paulo, Brasil (lat: -23.54, long: -46.63).</p> <p class="text-right font-mono text-xs"> </p></div></div>'),Ea=u('<div class="w-full max-w-3xl"><!></div>');function Ja(ta,ra){Ba(ra,!1);let i=F(null),I=F(!0),g=F(null);async function da(){try{const d=await fetch("https://api.open-meteo.com/v1/forecast?latitude=-23.5475&longitude=-46.6361&current=temperature_2m,relative_humidity_2m,apparent_temperature,is_day,precipitation,rain,weather_code,wind_speed_10m&daily=temperature_2m_max,temperature_2m_min,sunrise,sunset,precipitation_probability_max&timezone=America%2FSao_Paulo&forecast_days=7");if(!d.ok)throw new Error("Failed to fetch");const s=await d.json();O(i,s)}catch(d){console.error("Error fetching weather:",d),O(g,"Não foi possível carregar os dados do clima.")}finally{O(I,!1)}}function ia(d){return{0:"Céu limpo",1:"Parcialmente nublado",2:"Parcialmente nublado",3:"Nublado",45:"Nevoeiro",48:"Nevoeiro com geada",51:"Garoa leve",53:"Garoa moderada",55:"Garoa densa",61:"Chuva leve",63:"Chuva moderada",65:"Chuva forte",80:"Pancadas de chuva leves",81:"Pancadas de chuva moderadas",82:"Pancadas de chuva violentas",95:"Trovoada",96:"Trovoada com granizo leve",99:"Trovoada com granizo forte"}[d]||"Clima desconhecido"}function oa(d){return new Date(d+"T12:00:00").toLocaleDateString("pt-BR",{weekday:"short"}).replace(".","")}function sa(d){return new Date(d+"T12:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}Ta(()=>{da()}),za();var h=Ea(),na=e(h);{var la=d=>{var s=La();n(d,s)},va=d=>{var s=q(),ca=H(s);{var ua=v=>{var c=Ga(),k=e(c,!0);a(c),b(()=>o(k,t(g))),n(v,c)},pa=v=>{var c=q(),k=H(c);{var ma=w=>{var y=Aa(),D=e(y),M=e(D),j=e(M),xa=e(j);a(j);var J=r(j,2),_a=e(J,!0);a(J),a(M);var K=r(M,2),C=e(K),Q=r(e(C),2),fa=e(Q);a(Q),a(C);var P=r(C,2),U=r(e(P),2),ba=e(U);a(U),a(P);var z=r(P,2),V=r(e(z),2),ga=e(V);a(V),a(z);var X=r(z,2),Y=r(e(X),2),ha=e(Y);a(Y),a(X),a(K),a(D);var T=r(D,2),Z=r(e(T),2);Na(Z,5,()=>t(i).daily.time,Sa,($,_,l)=>{var f=q(),B=H(f);{var N=S=>{var L=Wa(),G=e(L),wa=e(G,!0);a(G);var R=r(G,2),ya=e(R,!0);a(R);var W=r(R,2),Da=e(W);a(W);var A=r(W,2),Ma=e(A);a(A);var ja=r(A,2);{var Ca=p=>{var m=Ra(),E=r(e(m));a(m),b(()=>o(E,` ${t(i).daily.precipitation_probability_max[l]??""}%`)),n(p,m)};x(ja,p=>{t(i).daily.precipitation_probability_max[l]>0&&p(Ca)})}a(L),b((p,m,E,Pa)=>{o(wa,p),o(ya,m),o(Da,`${E??""}°`),o(Ma,`${Pa??""}°`)},[()=>oa(t(_)),()=>sa(t(_)),()=>Math.round(t(i).daily.temperature_2m_max[l]),()=>Math.round(t(i).daily.temperature_2m_min[l])]),n(S,L)};x(B,S=>{l>0&&S(N)})}n($,f)}),a(Z),a(T);var aa=r(T,2),ea=r(e(aa),2),ka=e(ea);a(ea),a(aa),a(y),b(($,_,l,f,B,N)=>{o(xa,`${$??""}°`),o(_a,_),o(fa,`${l??""}°C`),o(ba,`${t(i).current.relative_humidity_2m??""}%`),o(ga,`${t(i).current.wind_speed_10m??""} km/h`),o(ha,`${f??""}° / ${B??""}°`),o(ka,`Atualizado às ${N??""}`)},[()=>Math.round(t(i).current.temperature_2m),()=>ia(t(i).current.weather_code),()=>Math.round(t(i).current.apparent_temperature),()=>Math.round(t(i).daily.temperature_2m_min[0]),()=>Math.round(t(i).daily.temperature_2m_max[0]),()=>new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]),n(w,y)};x(k,w=>{t(i)&&w(ma)},!0)}n(v,c)};x(ca,v=>{t(g)?v(ua):v(pa,!1)},!0)}n(d,s)};x(na,d=>{t(I)?d(la):d(va,!1)})}a(h),n(ta,h),$a()}export{Ja as default};
