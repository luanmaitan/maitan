import{av as k,k as l,ab as y,ai as h,ac as w,a6 as u,a2 as _,o as d,Z as A,aw as E,a3 as R,R as S,Q as T,I as x,U as D,V as F,W as I,X as M,Y as p,z as N,ax as B,B as v,ay as b,u as C,az as z,g,D as L,aA as O}from"./template.Bl6bgCxM.js";const P="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(P);k();class U{anchor;#s=new Map;#t=new Map;#e=new Map;#a=new Set;#i=!0;constructor(e,s=!0){this.anchor=e,this.#i=s}#r=()=>{var e=l;if(this.#s.has(e)){var s=this.#s.get(e),t=this.#t.get(s);if(t)y(t),this.#a.delete(s);else{var r=this.#e.get(s);r&&(this.#t.set(s,r.effect),this.#e.delete(s),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),t=r.effect)}for(const[a,i]of this.#s){if(this.#s.delete(a),a===e)break;const n=this.#e.get(i);n&&(h(n.effect),this.#e.delete(i))}for(const[a,i]of this.#t){if(a===s||this.#a.has(a))continue;const n=()=>{if(Array.from(this.#s.values()).includes(a)){var c=document.createDocumentFragment();E(i,c),c.append(u()),this.#e.set(a,{effect:i,fragment:c})}else h(i);this.#a.delete(a),this.#t.delete(a)};this.#i||!t?(this.#a.add(a),w(i,n,!1)):n()}}};#n=e=>{this.#s.delete(e);const s=Array.from(this.#s.values());for(const[t,r]of this.#e)s.includes(t)||(h(r.effect),this.#e.delete(t))};ensure(e,s){var t=l,r=R();if(s&&!this.#t.has(e)&&!this.#e.has(e))if(r){var a=document.createDocumentFragment(),i=u();a.append(i),this.#e.set(e,{effect:_(()=>s(i)),fragment:a})}else this.#t.set(e,_(()=>s(this.anchor)));if(this.#s.set(t,e),r){for(const[n,f]of this.#t)n===e?t.skipped_effects.delete(f):t.skipped_effects.add(f);for(const[n,f]of this.#e)n===e?t.skipped_effects.delete(f.effect):t.skipped_effects.add(f.effect);t.oncommit(this.#r),t.ondiscard(this.#n)}else d&&(this.anchor=A),this.#r()}}function Y(o,e,s=!1){d&&T();var t=new U(o),r=s?x:0;function a(i,n){if(d){const c=D(o)===F;if(i===c){var f=I();M(f),t.anchor=f,p(!1),t.ensure(i,n),p(!0);return}}t.ensure(i,n)}S(()=>{var i=!1;e((n,f=!0)=>{i=!0,a(f,n)}),i||a(!1,null)},r)}function H(o=!1){const e=N,s=e.l.u;if(!s)return;let t=()=>L(e.s);if(o){let r=0,a={};const i=O(()=>{let n=!1;const f=e.s;for(const c in f)f[c]!==a[c]&&(a[c]=f[c],n=!0);return n&&r++,r});t=()=>g(i)}s.b.length&&B(()=>{m(e,t),b(s.b)}),v(()=>{const r=C(()=>s.m.map(z));return()=>{for(const a of r)typeof a=="function"&&a()}}),s.a.length&&v(()=>{m(e,t),b(s.a)})}function m(o,e){if(o.l.s)for(const s of o.l.s)g(s);e()}export{Y as a,H as i};
